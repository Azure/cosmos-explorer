{"version":3,"file":"RUConsumedManager.js","sourceRoot":"","sources":["../../../src/common/RUConsumedManager.ts"],"names":[],"mappings":"AAAA,uCAAuC;AACvC,kCAAkC;AAElC,OAAO,SAAS,MAAM,WAAW,CAAC;AAElC;;;;GAIG;AACH,MAAM,OAAO,iBAAiB;IAI5B;QAHQ,eAAU,GAAW,CAAC,CAAC;QAI7B,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;IAChC,CAAC;IAED,aAAa;QACX,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;YAC7B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,EAAE;gBACvB,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;gBACvB,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YAC3B,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAED,eAAe,CAAC,KAAa;QAC3B,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;YAC7B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,EAAE;gBACvB,IAAI,CAAC,UAAU,IAAI,KAAK,CAAC;gBACzB,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;gBACvB,OAAO,EAAE,CAAC;YACZ,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;CACF","sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport semaphore from \"semaphore\";\n\n/**\n * @hidden\n * @hidden\n * Specifies Net RUConsumed\n */\nexport class RUConsumedManager {\n  private ruConsumed: number = 0;\n  private semaphore: any;\n\n  constructor() {\n    this.semaphore = semaphore(1);\n  }\n\n  getRUConsumed(): Promise<number> {\n    return new Promise((resolve) => {\n      this.semaphore.take(() => {\n        this.semaphore.leave();\n        resolve(this.ruConsumed);\n      });\n    });\n  }\n\n  addToRUConsumed(value: number): Promise<void> {\n    return new Promise((resolve) => {\n      this.semaphore.take(() => {\n        this.ruConsumed += value;\n        this.semaphore.leave();\n        resolve();\n      });\n    });\n  }\n}\n"]}